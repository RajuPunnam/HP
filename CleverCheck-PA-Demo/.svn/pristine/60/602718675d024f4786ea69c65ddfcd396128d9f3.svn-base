<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="utf-8" />

	<title>hp CLEVER CHECK</title>
	<!-- theme fonts -->
	<link
		href="//db.onlinewebfonts.com/c/4b985369d1883e0219184ffb89bac7b6?family=Night+Train+382"
		rel="stylesheet" type="text" />
	<link href="Resources/assets/bootstrap/css/bootstrap.min.css"
		rel="stylesheet" />
	<link href="Resources/assets/font-awesome/css/font-awesome.min.css"
		rel="stylesheet" />
	<link href="Resources/app/css/app.css" rel="stylesheet" />
	<link href="Resources/app/css/yamm.css" rel="stylesheet" />
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
<script>

$(document).ready(function(){
	$("#hide").hide();
	$("#msg").hide();
	
    $("#button").click(function(){
        $("#hide").toggle();
        $("#msg").toggle();
    });
});
</script>

</h:head>
<h:body>
<style>
	.userInfo .d_item{
	    width: 135px;
	    text-align:left !important;
	    border-right: none !important;
}

.userInfo .p_datatable table tbody tr td:first-child + td {
	border-left: none !important;
}

.userInfo .p_datatable table tbody tr td:first-child {
	border-right: none !important;
}

.userInfo .viewCartCss {
	width: 900px;
	margin: 0 auto;
	background: #fff;
}

.userInfo .p_datatable table thead th {
	background: #d9d9d9;
    border-right: 1px solid #F3F1F1;
    border-top: 1px solid #fff !important;
    border-bottom: 1px solid #d9d9d9;
    border-left: 1px solid #d9d9d9;
    font-weight: 100;
	font-size: 14px;
	text-shadow: none;
}

.userInfo .p_datatable table {
	 border-top: 2px solid #5D5C5C;;
	 width: 770px;
}

.userInfo .p_datatable table tbody tr {
	border: 1px solid #fff;
}

.userInfo .remove_btn {
	    background: #f27724 !important;
    color: #fff !important;
    font-weight: normal !important;
    width: 100%;
    height: 26px;
    border: #f27724 !important;
    border-radius: 4px !important;
    font-size: 12px !important;
    padding: 0px;
    box-shadow: none;
}

.ui-growl{
    top: 100px;
}

#addDetails .ui-growl{
    top: 450px;
}
.userInfo .p_datatable table tfoot tr td {
	background: #d9d9d9;
    border-right: 1px solid #F3F1F1;
    border-top: 1px solid #333;
    border-bottom: 1px solid #d9d9d9;
    border-left: 1px solid #d9d9d9;
    font-weight: bold;
    font-size: 14px;
}

.userInfo .viewCartLabel {
	background-color: #7f7f7f;
    color: #fff;
    font-size: 18px;
    width: 85px;
    text-align: center;
}

.userInfo .viewCartLabel label {
	font-weight: 100;
}
.userInfo .p_lable{
	background: #d9d9d9;
    border-right: 1px solid #F3F1F1;
    border-bottom: 1px solid #fff;
    border-left: 1px solid #d9d9d9;
    border-top: 1px solid #d9d9d9;
    font-weight: normal;
    font-size: 18px;
    margin-bottom: 0px;
    height: 31px;
}
.userInfo .p_viewbtn{
    border-top: none;
    height: 31px;
    border-radius: 0;
    width: 150px;
    /* margin: 46px 0px 0px 0px; */
    font-size: 19px;
    color: #fff;
    font-weight: normal !important;
    border-right: 0px solid #f27724;
   /*  border-bottom: 1px solid #f27724; */
    border-left: 0px solid #f27724;
}
.font{
    font-size: 12px;
}
.nop{
	padding-left: 0px;
	padding-right: 0px;
}	
.p_datatable .ui-inputfield {
    height: 27px;
    }
.ui-selectoneradio label {
    margin-left: -9px;
}
.ui-corner-top {
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
.ui-datatable .ui-datatable-header {
    font-size: 18px;
    font-weight: 100 !important;
    text-shadow: none;
    border: none;
    background: #c4c4c4;
}
.ui-state-default{
	background: none;
}

.ui-datatable ui-widget ui-datatable-scrollable p_datatable{
    width:770px;

}


</style>

<h:form id="form2">
<div style="height: 55px; background-color: #037CD5; width: 100%;">
			<div class="container" >
				<div class="row" style="padding-top: 6px;">
					<div class="col-xs-6" style="float: left">
						<h:commandLink action="#{homeBean.home}" immediate="true"><span style="color: #fff;font-size: 27px;font-weight: 600;margin: 2px 0 0 0px">CLEVERCHECK</span></h:commandLink>
					</div>

					<div class="col-xs-5" style="margin-top: 10px;">
						<a href="logout" style="margin-right: 50px;color: #fff;">Logout</a><a style="color: #fff;">#{loginBean.username}</a>
					</div>
					
					<div class="col-xs-1" style="margin:0px -249px 0px 0px;float: right">
						<h:commandLink action="#{homeBean.home}" immediate="true"><img src="Resources/app/images/Allgebra_Logo.png"  style="width: 148px;    margin: 0 0 0 0px;float:"/></h:commandLink>
					</div>

				</div>
			</div>
		</div>

</h:form>
<h:form id="form" styleClass="userInfo">
		<p:growl id="growl"  redisplay="true" showDetail="true" showSummary="false" life="20000" />
	 
		
		<div id="content-body" style="margin: 0 0 0 -50px" class="col-xs-4">
			<div class="container" style="width: 1080px;">
				<div class="row" style="margin-top: 20px;">
					<div class="col-xs-5">
						<div class="row">
							<div class="col-xs-12 " style="margin: 0 0 0 344px" >
								<div style="text-align: center;">
									<p:outputLabel styleClass="newUser marginForBottom" value="User Information"/>
								</div>
								
								<h:panelGroup> 
									<div class="row marginForBottom">
										<div class="col-xs-5">
											<p:outputLabel value="Name" style="color:#7d7d7d;"/>
										</div>
										<div class="col-xs-7">
											<p:outputLabel value="#{userInfoBean.user.firstname}" style="font-size: 16px;"/>
										</div>
									</div>
									<div class="row marginForBottom">
										<div class="col-xs-5">
											<p:outputLabel value="E Mail" style="color:#7d7d7d;"/>
										</div>
										<div class="col-xs-7">
											<p:outputLabel value="#{userInfoBean.user.empID}" style="font-size: 16px;"/>
										</div>
									</div>
									<div class="row marginForBottom">
										<div class="col-xs-5">
											<p:outputLabel value="Business Unit" style="color:#7d7d7d;"/>
										</div>
										<div class="col-xs-7">
											<p:outputLabel value="#{userInfoBean.user.designation}" style="font-size: 16px;"/>
										</div>
									</div>
									<div class="row marginForBottom">
										<div class="col-xs-5">
											<p:outputLabel value="User Type" style="color:#7d7d7d;"/>
										</div>
										<div class="col-xs-7">
											<p:outputLabel value="#{userInfoBean.user.roles}" style="font-size: 16px;"/>
										</div>
									</div>
								</h:panelGroup>
								<div class="row send">
				
		<a id="button" href="#"><div  style="background-color: #D4D9D9;margin-left:10PX;margin-right:268PX; margin-top: -8px; height: 1cm;font-size: 15px;color: #000;text-align: center;padding-top: 7px;">CHANGE PASSWORD</div></a>    								
		</div>
								<div id="hide" class="row">
									<div class="col-xs-5" style="margin-top: 36;">
											<h:panelGroup id="msg">
												<p:outputLabel styleClass="showMessage" style="font-size: 11px;" value="Password must satisfy following all rules"/>
													<ol class="showMessage pl" style="font-size: 11px;">
														  <li>Must be of 8 to 20 characters long</li>
														  <li>Must be alphanumeric - have atleast one alphabet and one number</li>
													</ol>
											</h:panelGroup>
									</div>
									
									<div class="col-xs-7" style="margin-top: -37;"> 
										
										<h:panelGroup id="changepwd">
											<p:password styleClass="marginFB"
												placeholder="Current Password"
												value="#{userInfoBean.passwordReset.password}" required="true"
												requiredMessage="Please Enter your Password">
											</p:password>
											<p:password id="password"
												value="#{userInfoBean.passwordReset.confpassword}" styleClass="marginFB"
												placeholder="New Password" required="true"
												requiredMessage="Please Enter your new Password"
												validatorMessage="Password must be alphanumeric and 8 to 20 characters long" maxlength="20">
												<f:validateRegex pattern="^[a-zA-Z0-9\-_]{0,40}$"/>
												<f:validateLength minimum="8" />
											</p:password>
											<p:password id="conformPassword"
												value="#{userInfoBean.passwordReset.reconfpassword}" styleClass="marginFB"
												placeholder="Retype New Password" required="true"
												requiredMessage="Please Conform your Password"
												maxlength="20">
											<f:validateRegex pattern="^[a-zA-Z0-9\-_]{0,40}$" />
											<f:validateLength minimum="8" />
											</p:password>

											<div class="row">
													<div class="col-xs-5">
														<p:commandButton value="Confirm" ajax="false" style="padding-right: 89px;"  action="#{userInfoBean.conform}" update="changepwd growl" />
													</div>
													
													<div class="col-xs-7" style="padding-left: 0px;">
														<p:outputLabel styleClass="showMessage" style="font-size: 11px;" value="#{userInfoBean.message}" />
													</div>
												</div>
										</h:panelGroup>
										
									</div>
																		
								</div>
							</div>
						</div>
					</div>
					
		</div>
			</div>
		</div>
		
	</h:form>
	
	<h:form id="form1">
	<!-- <p:growl id="growl1" showDetail="true" showSummary="false" life="3000"/> -->
	<div id="content-body" style="margin: -37px 0 0 23px;" class="col-xs-8">
			<div class="container" style="width: 1080px;">
				<div class="row" style="margin-top: 20px;">
		
	<!-- <div class="col-xs-5" ></div> -->
	<div class="col-xs-2 nop" style="margin-left: 490px;width: 50%;margin-top: -243px;">
	<div class="row" style="margin-top: 268px; margin-left:-176px;width:770px;">
							<div style="    width: 771px; height: 40px; margin: 9px 8px 1px 0px;background: #C4C4C4;padding: 1px 14px 10px 1px;"><h4 align="center">New User Request Management</h4></div>
							<p:dataTable id="newUserTable" styleClass="p_datatable"
								var="newUsers" value="#{userInfoBean.newUsersRequestlist}"
								rowIndexVar="rowIndex" filteredValue="#{userInfoBean.filteredNewUserslist}" scrollHeight="200" scrollable="true">
								<!-- <f:facet style="width:703px" name="header">New User Request Management</f:facet> -->
								
								<p:columnGroup type="header">
									<p:row>
										<p:column headerText="S.No" width="55" />
										<p:column style="width:121px" headerText="Name" filterBy="#{newUsers.firstname}" filterMatchMode="contains"/>
										<p:column style="width:121px" headerText="Email"  filterBy="#{newUsers.username}" filterMatchMode="contains"/>
										<p:column style="width:100px" headerText="BU"/>
										<p:column headerText="Justication" style="width: 115px;"/>
										<p:column headerText="Action" style="width: 100px"/>
										<p:column headerText="Save"/>
									</p:row>
								</p:columnGroup>
								<p:column width="55">
									<h:outputText value="#{rowIndex+1}"  styleClass="font"  />
								</p:column>
								<p:column >
									<h:outputText value="#{newUsers.firstname}" styleClass="font" style="word-wrap: break-word;" />
								</p:column>
								<p:column>
									<h:outputText value="#{newUsers.username}" styleClass="font" style="word-wrap: break-word;" />
								</p:column>
								<p:column>
									<h:outputText value="#{newUsers.designation}" styleClass="font" style="word-wrap: break-word;" />
								</p:column>
								<p:column>
									<h:outputText value="#{newUsers.business_justification_for_access_request}" styleClass="font"/>
								</p:column>
								<p:column styleClass="font" style="width:88px;">
									<p:selectOneRadio value="#{newUsers.active}" layout="grid" columns="1" style="border-top: 0px solid #5D5C5C;">
										<f:selectItem itemLabel="Allow" itemValue="true" />
										<f:selectItem itemLabel="Deny" itemValue="false" />
									</p:selectOneRadio>
								</p:column>
								<p:column>
									<p:commandButton update="@form :form:growl" value="Save" styleClass="remove_btn"
										action="#{userInfoBean.saveNewUser(newUsers)}" />
								</p:column>
							</p:dataTable>

							<p:panelGrid>
						<p:outputLabel value="Total Requests"  style=" text-align: center;width: 180px;float:left" styleClass="p_lable"/>
						<p:outputLabel id="newUser" value="#{userInfoBean.newUserCount}"  styleClass="p_lable" style="text-align: center;float:left;width:145px;"/>
						<p:commandButton value="Allow All" update="@form newUserTable existUserTable :form:growl"  styleClass="p_viewbtn" actionListener="#{userInfoBean.saveAllNewUsers}" style="height:30px;padding: 0px;width: 220px;box-shadow: none;border-right: 1px solid #d9d9d9;background:#92cf51;"/>
						<p:commandButton value="Deny All" update="@form :form:growl" styleClass="p_viewbtn" actionListener="#{userInfoBean.denyAllNewUsers}" style="margin: 0 0 -9px -9px;height:30px;padding-right: 2px;width: 230px;background:#ff0000;box-shadow: none;"/>
			</p:panelGrid>
			</div>
			
			<div class="row" style="margin-top: 43px;width: 770px;margin-left: -174px;">
								<div style="    width: 770px; height: 40px; margin: 9px 8px 1px 0px;background: #C4C4C4;padding: 1px 14px 10px 1px;"><h4 align="center">Exiting User Management</h4></div>
								<p:dataTable id="existUserTable" styleClass="p_datatable"
								 var="existingUsers" value="#{userInfoBean.existingUserslist}"
								rowIndexVar="rowIndex" 
								filteredValue="#{userInfoBean.filteredexistingUserslist}" scrollHeight="200" scrollable="true">
								<!-- <f:facet name="header">Exiting User Management</f:facet> -->

				<p:columnGroup type="header" >
					<p:row>
						<p:column headerText="S.No"/>
						<p:column headerText="Name" />
						<p:column headerText="Email"></p:column>
						<p:column headerText="BU"></p:column>
						<p:column headerText="Revoke Access"></p:column>
						<p:column headerText="Reset Password"></p:column>
						<p:column headerText="Save" ></p:column>
					</p:row>
				</p:columnGroup>
				<p:column>
				<h:outputText value="                                                                 #{rowIndex+1}"  styleClass="font"/>
				</p:column>
				<p:column>
				<h:outputText value="#{existingUsers.firstname}"  styleClass="font" style="word-wrap: break-word;" />
				</p:column>
				<p:column>
				<h:outputText value="#{existingUsers.username}"  styleClass="font" style="word-wrap: break-word;" />
				</p:column>
				<p:column>
				<h:outputText value="                             #{existingUsers.designation}"  styleClass="font" style="word-wrap: break-word;" />
				</p:column>
				<p:column styleClass="font">
				
				<p:selectOneRadio value="#{existingUsers.revokeAccess}" layout="grid" columns="1" style="border-top: 0px solid #5D5C5C;">
 										<f:selectItem itemLabel="Revoke" itemValue="true" />
									    <f:selectItem itemLabel="Keep" itemValue="false" />
									</p:selectOneRadio>
				
				</p:column>
				
				<p:column>
				<p:selectBooleanCheckbox value="#{existingUsers.resetPassword}" style="margin: 0px 30px;">
            
                </p:selectBooleanCheckbox>
				</p:column>
				<p:column>
					<p:commandButton id="password" value="Save"  update=":form1 :form:growl"  styleClass="remove_btn" action="#{userInfoBean.saveExistingUser(existingUsers)}"/>
				</p:column>
				
			</p:dataTable>
			
			<p:panelGrid id="existUser">
						<p:outputLabel value="Total User Count "  style="float:left;width:213px;text-align:center;" styleClass="p_lable"/>
						<p:outputLabel id="decCount" value="#{userInfoBean.existinguserCount}"  styleClass="p_lable" style=" width: 101px; text-align: center;float:left"/>
						<p:outputLabel value=""  styleClass="p_lable" style=" width: 115px; text-align: center;float:left"/>
						<p:outputLabel value=""  styleClass="p_lable" style=" width: 115px; text-align: center;float:left"/>
						<p:commandButton value="Save" update=":form1 :form:growl" styleClass="p_viewcartbtn" actionListener="#{userInfoBean.saveAllExistingUser}" style="margin-top: -1px;padding: 0px;width: 226px;background:#fff;color:#fff;border:0px solid #000;box-shadow: none;"/>
			</p:panelGrid>
			</div>
			
			
				</div>
	</div>
	</div> 
	</div>
	
	</h:form>
	
  <h:form>
  </h:form>

	<script type="text/javascript"
		src="Resources/assets/bootstrap/js/bootstrap.min.js"></script>
	<!--  Login End -->
</h:body>
</html>